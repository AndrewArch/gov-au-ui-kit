/*
List styles

List styles make groups of similar content more usable and discoverable.

You can add usual body elements within each list item (eg other ordered and unordered lists).

Style guide: List styles
*/

/*
Horizontal style

Horizontal style provides a list of stacked items.

Markup: templates/lists-horizontal.hbs

Style guide: List styles.1 Horizontal style
*/

/*
Vertical style

Vertical style provides multiple items on each row. By default 2 items show (other items wrap below). You can set to show more items using:

- `.vertical-list--thirds`&mdash;3 items
- `.vertical-list--fourths`&mdash;4 items.

For [browsers that don't support Flexbox layout](http://caniuse.com/#feat=flexbox) this list style appears as horizontal style list, with images (if used) below the list item.

Markup: templates/lists-vertical.hbs

Style guide: List styles.2 Vertical style
*/

/*
Small list style

Use small list style for displaying large groups in small spaces.

Markup: templates/lists-small.hbs

Style guide: List styles.3 Small list style
*/

/*
Formatting list items

You can add and remove list elements as required:

- **Image**: remove `figure` element if you don't need an image (you can use `figure` with no `img` to get left padding).
- **Tags**: use `footer.tags` and a `dl` element.
- **Meta**: use a `div.meta` to include supplementary information.
- **Hero item**: add `.hero-item` class to a list item (the layout will change to fit the wider image).
- **See more**: use `<a class="see-more">` to link to an index of all items.

Style guide: List styles.4 Formatting list items
*/

/*
Highlighting words

Use highlighted lists style for lists with a large number of items that repeat the same words.

Markup: templates/lists-highlighted.hbs

Style guide: List styles.4 Formatting list items.1  Highlighting words
*/

/*
Old content

Vertical list

The Vertical list suits content that fits into a column layout, and wraps with
two list items on each row. Note: In browsers where [Flexbox layout](http://caniuse.com/#feat=flexbox)
is not supported, this will appear as a Horizontal list except with the image
below the list item content.

To make a list appear with three or four columns, use the classes `.vertical-list--thirds`
and `.vertical-list--fourths` respectively.

To remove the border-top from the first row of elements add the `.no-border` class to the `ul` element

Style guide: List styles.Z old content
*/

%base-list {
  list-style: none;
  margin: ($base-spacing * 2) 0;
  padding: 0;

  .tags {
    color: $grey;

    dl,
    dt,
    dd {
      display: inline-block;
      margin: 0;
      padding: 0;
    }

    dt,
    dd {
      margin-right: $tiny-spacing;
      font-size: $small-font-size;
    }

    a {
      color: $link-hover-colour;
      padding: 2px $tiny-spacing;
      border: 1px solid $link-hover-colour;
      border-radius: 2px;

      &:hover {
        color: $white;
        background-color: $link-hover-colour;
      }
    }
  }

  .meta {
    font-size: $small-font-size;
    margin-top: $small-spacing;
    margin-bottom: $small-spacing;

    time {
      color: $grey;
    }
  }

  > li {
    padding: ($base-spacing * 1.5) 0;
    border-bottom: solid 1px $border-colour;
    margin-bottom: 0;
  }

  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 0;
    margin-bottom: $tiny-spacing;
  }

  h3 {
    @extend h4;
  }
}

.list-horizontal {
  @extend %base-list;

  > li {

    @include media($tablet) {
      display: flex;
    }

    figure {

      @include media($tablet) {
        flex: 0 0 35%;
        margin-right: $base-spacing;
      }
    }

    .meta {
      time {
        display: inline-block;
        margin-right: $small-spacing;
      }
    }

    &:last-child {
      border-bottom: none;
    }

    &.hero-item {
      border-top: solid 1px $border-colour;

      figure {
        @include media($tablet) {
          flex-basis: 65%;
        }
      }
    }

  }

}

.list-vertical {

  @extend %base-list;

  &.no-border {
    li:nth-child(-n+2) {
      border-top: none;
      padding-top: 0;
    }
  }

  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;

  > li {

    border-top: 1px solid $border-colour;
    border-bottom: none;
    flex: 0 0 100%;

    @include media($tablet) {
      flex-basis: 48%;
    }

    article {
      display: flex;
      flex-wrap: wrap;

      h3,
      div,
      p {
        flex: 0 0 100%;
      }
    }

    h3 {
      min-height: auto;

      @include media ($tablet) {
        min-height:  $base-spacing * 2;
      }
    }

    p {
      min-height: auto;

      @include media ($tablet) {
        min-height: $base-spacing * 3;
      }
    }

    .meta {
      order: -1;

      time {
        display: block;
      }
    }
  }
}

.list-vertical--thirds {
  @extend .list-vertical;

  &.no-border {
    li:nth-child(-n+3) {
      border-top: none;
      padding-top: 0;
    }
  }

  > li {
    @include media ($tablet) {
      flex: 0 0 31%;
    }
  }
}

.list-vertical--fourths {
  @extend .list-vertical;

  &.no-border {
    li:nth-child(-n+4) {
      border-top: none;
      padding-top: 0;
    }
  }

  > li {
    @include media ($tablet) {
      flex: 0 0 22%;
    }
  }
}

.list-small {
  @extend %base-list;
  border-top: solid 1px $border-colour;

  a {
    @extend .icon-arrow-right;

    display: block;
    padding: $small-spacing;
    padding-left: ($base-spacing * 2);
    border-bottom: none;

    background-repeat: no-repeat;
    background-position: $base-spacing ($small-spacing * 1.75);
    background-size: $tiny-spacing auto;
    transition: background $transition-timing $transition-easing;

    &:hover,
    &:active {
      background-position: ($base-spacing * 1.25) ($small-spacing * 1.75);
      background-color: $non-white;

      span {
        color: $dark-aqua;
      }
    }

  }

  span {
    color: $link-colour;
    text-decoration: none;
    border-bottom: 1px solid;
  }

  li {
    padding: 0;
  }

  .meta {
    display: block;
    margin: 0;
  }
}

.list-highlighted {
  @extend %base-list;

  li {
    list-style: none;
    border-bottom: 0;
    padding-bottom: $base-spacing;
    padding-top: 0;
  }

  a {
    font-size: $large-font-size;
    font-weight: $heading-font-weight;
    line-height: $base-heading-leading;

    span {
      display: block;
      font-size: $smaller-font-size;
    }
  }
}

.see-more {
  display: inline-block;
  position: relative;
  margin-right: $base-spacing;
  font-weight: $heading-font-weight;
  border-bottom: 1px solid transparent;

  &:link,
  &:visited,
  &:active {
    color: $button-colour;
  }

  &::after {
    @extend .icon-arrow-right-aqua;

    content: '';
    position: absolute;
    display: block;
    width: $medium-spacing;
    height: $medium-spacing;
    top: 0;
    right: -($medium-spacing);
    background-repeat: no-repeat;
    background-position: right $tiny-spacing;
    background-size: (0.8 * $small-spacing) auto;
    border-bottom: none;
  }

  &:hover,
  &:focus {
    border-bottom: 1px solid;
  }
}

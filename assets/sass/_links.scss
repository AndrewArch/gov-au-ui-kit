/*
Link & anchor styles

Styling for various different types and classes of links.

Note: this section is does not exhaustively cover all link and anchor styles; there are some that remain interspersed amongst the relevant partials they pertain to (eg tag cloud links).

Style guide: Links & anchors
*/

/*
Basic anchor styles

The `:hover` and `:focus` styles are identical.

Link styles are globally scoped with inverted style colours handled by a SASS mixin (eg in the page header).

We have support to add icons to anchors (without further markup) via the `rel` attribute, currently only for external links (`rel="external"`).

Markup: templates/basic-links.hbs

Style guide: Links & anchors.1 Basic styles
*/

// A base extend that provides the styling for icons at the end of a link.
%base-link-icon--after {
  content: '';
  position: absolute;
  display: block;
  top: 0;
  right: -($medium-spacing);
  width: $medium-spacing;
  height: $medium-spacing;
  background-repeat: no-repeat;
  background-position: right $tiny-spacing;
  border-bottom: 1px solid transparent;
}

@mixin link-colours($text-colour, $hover-bg-colour, $hover-text-colour: $text-colour) {
  $link-disabled-color: rgba($text-colour, 0.5);
  color: $text-colour;

  a {
    color: $text-colour;
    text-decoration: none;
    outline: none;
    border-bottom: solid 1px $hover-bg-colour;
    transition-timing-function: $transition-easing;
    transition-duration: $transition-timing-fast;
    transition-property: background-color, border-color, color;

    &:hover,
    &:focus {
      background-color: $hover-bg-colour;
      color: $hover-text-colour;
    }

    &[rel~='external'] {
      display: inline-block;
      position: relative;
      margin-right: $base-spacing;

      &:hover {
        border-color: transparent;
      }

      &::after {
        @extend %icon-external-link--aqua;
        @extend %base-link-icon--after;

        background-size: (0.75 * $medium-spacing) auto;
      }
    }

    /*
    See more link

    Some lists will show a feed of the latest or most relevant items. The see more link takes the user to the index page showing all of the items.

    Markup: <a class="see-more" href="#">See more</a>

    Style guide: Links & anchors.2 See more link
    */
    &.see-more {
      display: inline-block;
      position: relative;
      margin-right: $base-spacing;
      font-weight: $heading-font-weight;
      color: $button-bg-colour;

      &::after {
        @extend %icon-arrow-right--aqua;

        content: '';
        position: absolute;
        top: 0;
        right: -($medium-spacing);
        display: block;
        width: $medium-spacing;
        height: $medium-spacing;
        background-repeat: no-repeat;
        background-position: right $tiny-spacing;
        background-size: (0.8 * $small-spacing) auto;
      }

      &:hover,
      &:focus {
        color: $hover-text-colour;
      }
    }
  }

  &.disabled {
    outline: none;
    color: $link-disabled-color;
    text-decoration: none;
    border-bottom: solid 1px;
    outline-color: transparent;
  }
}

// move these bad boys to their right contextual places

.content-main,
footer[role='contentinfo'] {
  @include link-colours($non-black, $light-aqua, $non-black);
  @include button-colours($button-bg-colour, $button-bg-colour--hover, $button-bg-colour--active, $button-text-colour);
}
